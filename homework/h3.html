<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-10-01 Thu 17:10 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Computer Science 3MI3 – 2020 homework 3</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Mark Armstrong" />
<meta name="description" content="Reversing our introductions to Scala and Prolog."
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="styles/readtheorg/css/readtheorg.css"/>
<script type="text/javascript" src="styles/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="styles/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="styles/readtheorg/js/readtheorg.js"></script>
<style>pre.src{background:#000000;color:white;} </style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Computer Science 3MI3 – 2020 homework 3
<br />
<span class="subtitle">Revisiting homework 1 in Prolog and homework 2 in Scala</span>
</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#Introduction">Introduction</a></li>
<li><a href="#Boilerplate">Boilerplate</a>
<ul>
<li><a href="#Submission-procedures">Submission procedures</a>
<ul>
<li><a href="#orgb8e4397">Submission method</a></li>
<li><a href="#orgce0efbc">Naming requirements</a></li>
<li><a href="#org5c168c8">Do not submit testing or diagnostic code</a></li>
<li><a href="#org7885204">Due date and allowance for technical difficulties</a></li>
</ul>
</li>
<li><a href="#Proper-conduct-for-coursework">Proper conduct for coursework</a>
<ul>
<li><a href="#org3af46b2">Individual work</a></li>
<li><a href="#org8dcdb7b">Language library resources</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Part-1:-Flattening-and-ordering-trees-in-Prolog-[20 points]">Part 1: Flattening and ordering trees in Prolog [20 points]</a></li>
<li><a href="#Part-2:-Predicates-in-Scala---------------------[20 points]">Part 2: Predicates in Scala                     [20 points]</a></li>
<li><a href="#Testing">Testing</a>
<ul>
<li><a href="#Automated-testing-via-Docker">Automated testing via Docker</a></li>
<li><a href="#The-tests">The tests</a>
<ul>
<li><a href="#The-Scala-tests">The Scala tests</a></li>
<li><a href="#The-Prolog-tests">The Prolog tests</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-Introduction" class="outline-2">
<h2 id="Introduction">Introduction</h2>
<div class="outline-text-2" id="text-Introduction">
<p>
We have now worked in Scala for one homework,
representing different kinds of trees
and defining operations on them.
</p>

<p>
We have also worked in Prolog solving problems
about palindromes and prime numbers.
</p>

<p>
For our third homework, we gain further experience
in both languages by tackling our previous problems
in the other language.
Since they are from different paradigms,
although the problems are the same,
your solutions will out of necessity be quite different.
</p>
</div>
</div>

<div id="outline-container-Boilerplate" class="outline-2">
<h2 id="Boilerplate">Boilerplate</h2>
<div class="outline-text-2" id="text-Boilerplate">
</div>

<div id="outline-container-Submission-procedures" class="outline-3">
<h3 id="Submission-procedures">Submission procedures</h3>
<div class="outline-text-3" id="text-Submission-procedures">
</div>

<div id="outline-container-orgb8e4397" class="outline-4">
<h4 id="orgb8e4397">Submission method</h4>
<div class="outline-text-4" id="text-orgb8e4397">
<p>
Homework should be submitted to your McMaster CAS Gitlab respository
in the <code>cs3mi3-fall2020</code> project.
</p>

<p>
Ensure that you have <b>pushed</b> the commits to the remote repository
in time for the deadline, and not just committed to your local copy.
</p>
</div>
</div>

<div id="outline-container-orgce0efbc" class="outline-4">
<h4 id="orgce0efbc">Naming requirements</h4>
<div class="outline-text-4" id="text-orgce0efbc">
<p>
Place all files for the homework
inside a folder titled <code>hn</code>, where <code>n</code> is the number of the homework.
So, for homework 1, the use the folder <code>h1</code>, for homework 2 the folder <code>h2</code>, etc.
Ensure you do not capitalise the <code>h</code>.
</p>

<p>
Unless otherwise instructed in the homework questions,
place all of your code for the homework
in a single file in the <code>hn</code> folder named <code>hn.ext</code>,
where <code>ext</code> is the appropriate extension for the language used
according to this list:
</p>
<ul class="org-ul">
<li>For Scala, <code>ext</code> is <code>sc</code>.</li>
<li>For Prolog, <code>ext</code> is <code>pl</code>.</li>
<li>For Ruby, <code>ext</code> is <code>rb</code>.</li>
<li>For Clojure, <code>ext</code> is <code>clg</code>.</li>
</ul>
<p>
If multiple languages are used in the homework,
submit a <code>hn.ext</code> file for each language.
</p>

<div class="org-center">
<p>
<b>If the language supports multiple different file extensions,</b>
<b>you must still follow the extension conventions above.</b>
</p>
</div>

<div class="org-center">
<p>
<b>Incorrect naming of files may result in up to a 10% deduction in your grade.</b>
</p>
</div>
</div>
</div>

<div id="outline-container-org5c168c8" class="outline-4">
<h4 id="org5c168c8">Do not submit testing or diagnostic code</h4>
<div class="outline-text-4" id="text-org5c168c8">
<p>
Unless you are instructed to do so in the homework questions,
<b>you should not submit testing code with your homework submission</b>.
</p>

<p>
This includes
</p>
<ul class="org-ul">
<li>any <code>main</code> function,</li>
<li>any <code>print</code> statements which output information
<b>that is not directly requested as console output</b>
<b>in the homework questions</b>.</li>
</ul>

<p>
If you do not wish to remove diagnostic print statements manually,
you will have to find a way to ensure that they disabled
in your final submission.
</p>

<p>
For instance, by using a wrapper on the print function or macros.
</p>
</div>
</div>

<div id="outline-container-org7885204" class="outline-4">
<h4 id="org7885204">Due date and allowance for technical difficulties</h4>
<div class="outline-text-4" id="text-org7885204">
<p>
Homework is due on the second Sunday following its release,
by the end of the day (midnight).
Submissions past 00:00 may not be considered.
</p>

<p>
If you experience technical difficulties
leading up to the submission time,
please contact Mark <b>ASAP</b> with the details of the problem
and, if possible, attach the current state of your homework
to the communication.
This information will help ensure we are able
to accept your submission once the technical difficulties are resolved.
</p>
</div>
</div>
</div>

<div id="outline-container-Proper-conduct-for-coursework" class="outline-3">
<h3 id="Proper-conduct-for-coursework">Proper conduct for coursework</h3>
<div class="outline-text-3" id="text-Proper-conduct-for-coursework">
</div>

<div id="outline-container-org3af46b2" class="outline-4">
<h4 id="org3af46b2">Individual work</h4>
<div class="outline-text-4" id="text-org3af46b2">
<p>
Unless explicitely stated in the homework questions,
all homework in this course is intended
to be <i>individually completed</i>.
</p>

<p>
You are welcome to discuss the content of the homework in
the public forum of the class Microsoft Teams team homework channel,
though obviously solutions or partial solutions should not
be posted or described.
</p>

<p>
Private discussions about the homework cannot reasonably be
forbidden, but such discussions should follow the same guidelines
as public discussions.
</p>

<div class="org-center">
<p>
<b>Inappopriate collaboration via private discussions</b>
<b>which is later discovered by course staff</b>
<b>may be considered academic dishonesty.</b>
</p>

<p>
When in doubt, make the discussion private, or report its contents
to the course staff by making a note of it
in your homework.
</p>
</div>

<p>
To clarify what is considered appropriate discussions
of homework content, here are some examples:
</p>
<ol class="org-ol">
<li>Discussing the language features introduced or needed for the homework.
<ul class="org-ul">
<li>Such as relevant builtin datatypes
and datatype definition methods and their general use.</li>
<li>Code snippets that are not partial solutions to the homework
are welcome and encouraged.</li>
</ul></li>
<li>Questions of the form “What is meant by <code>x</code>?”,
“Does <code>x</code> really mean <code>y</code>?” or “Is there a mistake with <code>x</code>?”
<ul class="org-ul">
<li>Of course, questions of those form which would be answered
by partial solutions are not considered appropriate.</li>
</ul></li>
<li>Questions or advice about errors that may be encountered.
<ul class="org-ul">
<li>Such as “If you see a <code>scala.MatchError</code> you should
probably add a catch-all <code>_</code> case to your <code>match</code> expressions.”</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-org8dcdb7b" class="outline-4">
<h4 id="org8dcdb7b">Language library resources</h4>
<div class="outline-text-4" id="text-org8dcdb7b">
<p>
Unless explicitely stated in the questions,
it is not expected that you will use any language library resources
in the homeworks.
</p>

<p>
Possible exceptions to this rule include implementations
of datatypes we discuss in this course, such as lists
or options/maybes, if they are included in a standard library
instead of being builtin.
</p>

<p>
<i>Basic</i> operations on such types would also be allowed.
</p>
<ul class="org-ul">
<li>For instance, <code>head</code>, <code>tail</code>, <code>append</code>, etc. on lists
would not require explicit permission to be used.</li>
<li>More complex operations such as sorting procedures
would require permission before you used them.</li>
</ul>

<p>
Additionally, the standard <i>higher-order</i> operations
including <code>map</code>, <code>reduce</code>, <code>flatten</code>, and <code>filter</code> are permitted generally,
unless the task is to implement such a higher-order operator.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-Part-1:-Flattening-and-ordering-trees-in-Prolog-[20 points]" class="outline-2">
<h2 id="Part-1:-Flattening-and-ordering-trees-in-Prolog-[20 points]">Part 1: Flattening and ordering trees in Prolog [20 points]</h2>
<div class="outline-text-2" id="text-Part-1:-Flattening-and-ordering-trees-in-Prolog-[20 points]">
<p>
Using the representations (not technically types)
of <code>BinTree</code> and <code>LeafTree</code> trees discussed in the
“Trees in Prolog” lecture (links below),
write predicates <code>flatten</code> and <code>elemsOrdered</code> in Prolog.
</p>
<ul class="org-ul">
<li>(Each predicate is assigned 7.5 points.)</li>
</ul>

<p>
Each should be a binary predicate,
taking a tree and a list as parameters.
So <code>flatten(T,L)</code> means that <code>L</code> is the result of flattening <code>T</code>,
and similarly <code>elemsOrdered(T,L)</code> means that <code>L</code> is a
list of elements of <code>T</code> in order.
</p>

<p>
Implement your own sorting predicate to use in <code>elemsOrdered</code>;
do not use a predefined one.
</p>
<ul class="org-ul">
<li>(The sorting predicate is assigned 5 points.)</li>
</ul>

<p>
Refer to the “Trees in Prolog” lecture notes, available as
</p>
<ul class="org-ul">
<li><a href="./../notes/live-coding/09-25-Trees-in-Prolog.html">HTML</a>,</li>
<li><a href="./../notes/live-coding/09-25-Trees-in-Prolog.pdf">PDF</a>, or</li>
<li><a href="./../notes/live-coding/09-25-Trees-in-Prolog.org">plaintext Org source</a>,</li>
</ul>
</div>
</div>

<div id="outline-container-Part-2:-Predicates-in-Scala---------------------[20 points]" class="outline-2">
<h2 id="Part-2:-Predicates-in-Scala---------------------[20 points]">Part 2: Predicates in Scala                     [20 points]</h2>
<div class="outline-text-2" id="text-Part-2:-Predicates-in-Scala---------------------[20 points]">
<p>
In Scala and other non-logical languages,
we can represent predicates as boolean-valued functions/methods
(functions/methods which return booleans).
Note that in Scala the type of booleans is <code>Boolean</code>
(not <code>Bool</code>, as it is in some languages.)
</p>

<p>
In Scala, implement the predicates from homework 2:
</p>
<ol class="org-ol">
<li><code>isPrime</code> on the <code>Int</code> type.
<ul class="org-ul">
<li>(assigned 5 points.)</li>
</ul></li>
<li><code>isPalindrome</code> on the type <code>List[A]</code> for any <code>A</code>.
<ul class="org-ul">
<li>(assigned 5 points.)</li>
</ul></li>
<li><code>primePalindrome</code> on the type <code>Int</code>.
<ul class="org-ul">
<li>(assigned 5 points.)</li>
</ul></li>
</ol>

<p>
In the process, also define a method <code>digitList</code> (not <code>isDigitList</code>)
which converts an <code>Int</code> into a <code>List[Int]</code> consisting
of its digits, with the first element of the list being
the “ones” digits, the second element being the “tens” digit, etc.
</p>
<ul class="org-ul">
<li>(this method is assigned 5 points.)</li>
</ul>
</div>
</div>

<div id="outline-container-Testing" class="outline-2">
<h2 id="Testing">Testing</h2>
<div class="outline-text-2" id="text-Testing">
<p>
As of September 28th, unit tests for the requested predicates
are available through the following links.
</p>
<ul class="org-ul">
<li>Scala unit tests: <a href="./testing/h3/h3t.sc">h3t.sc</a></li>
<li>Prolog unit tests: <a href="./testing/h3/h3.plt">h3.plt</a>.</li>
</ul>
<p>
The contents of the unit test file are also repeated below.
</p>

<p>
The tests can be run by placing the <code>h3t.sc</code> and <code>h3.plt</code> files
in the same directory as your <code>h3.sc</code> and <code>h3.pl</code> files, and
running the following commands.
</p>
<div class="org-src-container">
<pre class="src src-shell">amm h3t.sc
</pre>
</div>
<p>
and
</p>
<div class="org-src-container">
<pre class="src src-shell">swipl -t <span style="color: #79a8ff;">"load_test_files([]), run_tests."</span> -s h3.pl
</pre>
</div>
<p>
to test your Prolog code.
</p>

<p>
If you use implementations other than Ammonite and SWI Prolog,
you may need to adjust the tests to be able to run them
on your system.
</p>

<p>
In particular, those using IntelliJ for writing Scala
may need to remove the import statement at the top of that file,
or move the tests to their source file
(if so, be sure to remove them before submission!)
</p>
</div>

<div id="outline-container-Automated-testing-via-Docker" class="outline-3">
<h3 id="Automated-testing-via-Docker">Automated testing via Docker</h3>
<div class="outline-text-3" id="text-Automated-testing-via-Docker">
<p>
(Updated October 1st.)
</p>

<p>
The Docker setup and usage scripts are available at the following links.
</p>
<ul class="org-ul">
<li><a href="./testing/h3/Dockerfile">Dockerfile</a></li>
<li><a href="./testing/h3/docker-compose.yml">docker-compose.yml</a></li>
<li><a href="./testing/h3/setup.sh">setup.sh</a></li>
<li><a href="./testing/h3/run.sh">run.sh</a></li>
</ul>
<p>
Place them into your <code>h3</code> directory where your <code>h3.sc</code> and <code>h3.pl</code> files
and the <code>h3.plt</code> and <code>h3t.sc</code> (linked to above) files exist,
then run <code>setup.sh</code> and <code>run.sh</code>.
</p>

<p>
You may also refer to the README
for this testing setup and those files
<a href="https://github.com/armkeh/principles-of-programming-languages/tree/master/homework/testing/h3">on the course GitHub repo</a>.
</p>

<p>
Note that the use of the <code>setup.sh</code> and <code>run.sh</code> scripts assumes
that you are in a <code>bash</code> like shell; if you are on Windows,
and not using WSL or WSL2, you may have
to run the commands contained in those scripts manually.
</p>
</div>
</div>

<div id="outline-container-The-tests" class="outline-3">
<h3 id="The-tests">The tests</h3>
<div class="outline-text-3" id="text-The-tests">
<p>
The contents of the testing scripts are repeated here.
</p>
</div>

<div id="outline-container-The-Scala-tests" class="outline-4">
<h4 id="The-Scala-tests">The Scala tests</h4>
<div class="outline-text-4" id="text-The-Scala-tests">
<div class="org-src-container">
<pre class="src src-amm"><span style="color: #b6a0ff;">import</span> $file.h3, h3.<span style="color: #b6a0ff;">_</span>

<span style="color: #a8a8a8;">/* </span><span style="color: #a8a8a8;">Given an expected result and a computed result,</span>
<span style="color: #a8a8a8;">   check if they are equal in value.</span>
<span style="color: #a8a8a8;">   If so, return 0. Otherwise, inform the user, and return 1,</span>
<span style="color: #a8a8a8;">   so the number of failures can be counted. */</span>
<span style="color: #b6a0ff;">def</span> <span style="color: #feacd0;">test</span><span style="color: #00cd68;">[</span><span style="color: #00bcff;">A</span><span style="color: #00cd68;">](</span>given<span style="color: #b6a0ff;">:</span> <span style="color: #f78fe7;">A</span>, expected<span style="color: #b6a0ff;">:</span> <span style="color: #f78fe7;">A</span>, the_test<span style="color: #b6a0ff;">:</span> <span style="color: #f78fe7;">String</span><span style="color: #00cd68;">)</span> <span style="color: #b6a0ff;">=</span>
  <span style="color: #b6a0ff;">if</span> <span style="color: #00cd68;">(</span>!<span style="color: #b6a0ff;">(</span>given equals expected<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">{</span>
    println<span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"+---------------------------------------------------"</span><span style="color: #b6a0ff;">)</span>
    println<span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"| "</span> + the_test + <span style="color: #79a8ff;">" failed."</span><span style="color: #b6a0ff;">)</span>
    println<span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"| Expected "</span> + expected + <span style="color: #79a8ff;">", got "</span> + given + <span style="color: #79a8ff;">"."</span><span style="color: #b6a0ff;">)</span>
    println<span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"+---------------------------------------------------"</span><span style="color: #b6a0ff;">)</span>
    <span style="color: #00bcff;">1</span>
  <span style="color: #00cd68;">}</span> <span style="color: #b6a0ff;">else</span> <span style="color: #00cd68;">{</span>
    <span style="color: #00bcff;">0</span>
  <span style="color: #00cd68;">}</span>

<span style="color: #a8a8a8;">// </span><span style="color: #a8a8a8;">The tests are saved as tuples, the pieces of which will be passed</span>
<span style="color: #a8a8a8;">// </span><span style="color: #a8a8a8;">to test.</span>
<span style="color: #b6a0ff;">val</span> <span style="color: #00d3d0;">tests</span> <span style="color: #b6a0ff;">=</span> <span style="color: #00bcff;">List</span><span style="color: #00cd68;">(</span>
  <span style="color: #b6a0ff;">(</span>isPrime<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">2</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">true</span>, <span style="color: #79a8ff;">"Two is prime"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>isPrime<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">53</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">true</span>, <span style="color: #79a8ff;">"Fifty three is prime"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>isPrime<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">8</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">false</span>, <span style="color: #79a8ff;">"Eight is not prime"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>isPrime<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">63</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">false</span>, <span style="color: #79a8ff;">"Sixty-three is not prime"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>isPalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">List</span><span style="color: #f0ce43;">()</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">true</span>, <span style="color: #79a8ff;">"Empty palindrome"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>isPalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">List</span><span style="color: #f0ce43;">(</span><span style="color: #00bcff;">1</span>,<span style="color: #00bcff;">1</span><span style="color: #f0ce43;">)</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">true</span>, <span style="color: #79a8ff;">"Pair palindrome"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>isPalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">List</span><span style="color: #f0ce43;">(</span><span style="color: #79a8ff;">'s'</span>,<span style="color: #79a8ff;">'t'</span>,<span style="color: #79a8ff;">'e'</span>,<span style="color: #79a8ff;">'p'</span>,<span style="color: #79a8ff;">'o'</span>,<span style="color: #79a8ff;">'n'</span>,<span style="color: #79a8ff;">'n'</span>,<span style="color: #79a8ff;">'o'</span>,<span style="color: #79a8ff;">'p'</span>,<span style="color: #79a8ff;">'e'</span>,<span style="color: #79a8ff;">'t'</span>,<span style="color: #79a8ff;">'s'</span><span style="color: #f0ce43;">)</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">true</span>, <span style="color: #79a8ff;">"step on no pets palindrome"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>isPalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">List</span><span style="color: #f0ce43;">(</span><span style="color: #00bcff;">12</span>,<span style="color: #00bcff;">21</span><span style="color: #f0ce43;">)</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">false</span>, <span style="color: #79a8ff;">"Palindrome elements are atomic"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>primePalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">11</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">true</span>, <span style="color: #79a8ff;">"Eleven is prime palindrome"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>primePalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">929</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">true</span>, <span style="color: #79a8ff;">"Nine twenty nine is prime palindrome"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>primePalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">13</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">false</span>, <span style="color: #79a8ff;">"Thirteen is not prime palindrome"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #b6a0ff;">(</span>primePalindrome<span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">22</span><span style="color: #6ae4b9;">)</span>, <span style="color: #00bcff;">false</span>, <span style="color: #79a8ff;">"Twenty two is not prime palindrome"</span><span style="color: #b6a0ff;">)</span>,
  <span style="color: #00cd68;">)</span>

<span style="color: #a8a8a8;">// </span><span style="color: #a8a8a8;">Apply test to each element of tests, and sum the return values.</span>
<span style="color: #a8a8a8;">// </span><span style="color: #a8a8a8;">This is essentially a for loop.</span>
<span style="color: #b6a0ff;">val</span> <span style="color: #00d3d0;">failed</span> <span style="color: #b6a0ff;">=</span> tests.foldLeft<span style="color: #00cd68;">(</span><span style="color: #00bcff;">0</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">{</span>
  <span style="color: #b6a0ff;">(</span>failures, next<span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">=&gt;</span> next <span style="color: #b6a0ff;">match</span> <span style="color: #b6a0ff;">{</span>
    <span style="color: #a8a8a8;">// </span><span style="color: #a8a8a8;">Deconstruct the tuple to get its parts</span>
    <span style="color: #b6a0ff;">case</span> <span style="color: #6ae4b9;">(</span><span style="color: #00d3d0;">given</span>, <span style="color: #00d3d0;">expected</span>, <span style="color: #00d3d0;">the_test</span><span style="color: #6ae4b9;">)</span> <span style="color: #b6a0ff;">=&gt;</span> failures + test<span style="color: #6ae4b9;">(</span>given, expected, the_test<span style="color: #6ae4b9;">)</span>
  <span style="color: #b6a0ff;">}</span>
<span style="color: #00cd68;">}</span>

println<span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"+---------------------------------------------------"</span><span style="color: #00cd68;">)</span>
println<span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"| "</span> + failed + <span style="color: #79a8ff;">" tests failed"</span><span style="color: #00cd68;">)</span>
println<span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"+---------------------------------------------------"</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-The-Prolog-tests" class="outline-4">
<h4 id="The-Prolog-tests">The Prolog tests</h4>
<div class="outline-text-4" id="text-The-Prolog-tests">
<div class="org-src-container">
<pre class="src src-prolog">:- begin_tests(h3).
:- include(h3).

<span style="color: #a8a8a8;">% </span><span style="color: #a8a8a8;">One way to </span><span style="color: #a8a8a8;">"name"</span><span style="color: #a8a8a8;"> values is to use predictes such as these.</span>
<span style="color: #a8a8a8;">% </span><span style="color: #a8a8a8;">Then a variable can be bound to the values here using the predicate.</span>
<span style="color: #feacd0;">largeLeafTree</span>(<span style="color: #00d3d0;">T</span>) :-
    <span style="color: #00d3d0;">T</span> = branch(
         branch(
          branch(leaf(10),leaf(-2)),
          branch(leaf(3),leaf(400))),
         branch(
          branch(leaf(55),leaf(6)),
          branch(leaf(777),leaf(88888888)))).
<span style="color: #feacd0;">largeLeafTreeFlat</span>(<span style="color: #00d3d0;">L</span>) :-    <span style="color: #00d3d0;">L</span> = <span style="color: #b6a0ff;">[</span>10,-2,3,400,55,6,777,88888888<span style="color: #b6a0ff;">]</span>.
<span style="color: #feacd0;">largeLeafTreeOrdered</span>(<span style="color: #00d3d0;">L</span>) :- <span style="color: #00d3d0;">L</span> = <span style="color: #b6a0ff;">[</span>-2,3,6,10,55,400,777,88888888<span style="color: #b6a0ff;">]</span>.

<span style="color: #feacd0;">largeBinTree</span>(<span style="color: #00d3d0;">T</span>) :-
    <span style="color: #00d3d0;">T</span> = node(
         node(
          node(empty,1,empty),
          22,
          node(empty,-3,empty)),
         404,     
         node(
          node(empty,50,node(empty,6,empty)),
          7777777,
          node(node(empty,-88,empty),9001,empty))).
<span style="color: #feacd0;">largeBinTreeFlat</span>(<span style="color: #00d3d0;">L</span>) :-    <span style="color: #00d3d0;">L</span> = <span style="color: #b6a0ff;">[</span>1,22,-3,404,50,6,7777777,-88,9001<span style="color: #b6a0ff;">]</span>.
<span style="color: #feacd0;">largeBinTreeOrdered</span>(<span style="color: #00d3d0;">L</span>) :- <span style="color: #00d3d0;">L</span> = <span style="color: #b6a0ff;">[</span>-88,-3,1,6,22,50,404,9001,7777777<span style="color: #b6a0ff;">]</span>.


<span style="color: #a8a8a8;">% </span><span style="color: #a8a8a8;">The tests</span>

<span style="color: #feacd0;">test</span>(flatten_leaf, nondet) :- flatten(leaf(5),<span style="color: #b6a0ff;">[</span>5<span style="color: #b6a0ff;">]</span>).
<span style="color: #feacd0;">test</span>(flatten_branch, nondet) :- flatten(branch(leaf(1),leaf(2)),<span style="color: #b6a0ff;">[</span>1,2<span style="color: #b6a0ff;">]</span>).
<span style="color: #feacd0;">test</span>(flatten_large_leaftree, nondet) :- largeLeafTree(<span style="color: #00d3d0;">X</span>), largeLeafTreeFlat(<span style="color: #00d3d0;">L</span>), flatten(<span style="color: #00d3d0;">X</span>,<span style="color: #00d3d0;">L</span>).

<span style="color: #feacd0;">test</span>(order_leaf, nondet) :- elemsOrdered(leaf(5),<span style="color: #b6a0ff;">[</span>5<span style="color: #b6a0ff;">]</span>).
<span style="color: #feacd0;">test</span>(order_branch, nondet) :- elemsOrdered(branch(leaf(1),leaf(2)),<span style="color: #b6a0ff;">[</span>1,2<span style="color: #b6a0ff;">]</span>).
<span style="color: #feacd0;">test</span>(order_large_leaftree, nondet) :- largeLeafTree(<span style="color: #00d3d0;">X</span>), largeLeafTreeOrdered(<span style="color: #00d3d0;">L</span>), elemsOrdered(<span style="color: #00d3d0;">X</span>,<span style="color: #00d3d0;">L</span>).

<span style="color: #feacd0;">test</span>(flatten_empty, nondet) :- flatten(empty,<span style="color: #b6a0ff;">[]</span>).
<span style="color: #feacd0;">test</span>(flatten_node, nondet) :- flatten(node(empty,5,empty),<span style="color: #b6a0ff;">[</span>5<span style="color: #b6a0ff;">]</span>).
<span style="color: #feacd0;">test</span>(flatten_large_bintree, nondet) :- largeBinTree(<span style="color: #00d3d0;">X</span>), largeBinTreeFlat(<span style="color: #00d3d0;">L</span>), flatten(<span style="color: #00d3d0;">X</span>,<span style="color: #00d3d0;">L</span>).

<span style="color: #feacd0;">test</span>(order_empty, nondet) :- elemsOrdered(empty,<span style="color: #b6a0ff;">[]</span>).
<span style="color: #feacd0;">test</span>(order_node, nondet) :- elemsOrdered(node(empty,5,empty),<span style="color: #b6a0ff;">[</span>5<span style="color: #b6a0ff;">]</span>).
<span style="color: #feacd0;">test</span>(order_large_bintree, nondet) :- largeBinTree(<span style="color: #00d3d0;">X</span>), largeBinTreeOrdered(<span style="color: #00d3d0;">L</span>), elemsOrdered(<span style="color: #00d3d0;">X</span>,<span style="color: #00d3d0;">L</span>).
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Mark Armstrong</p>
     <p class="author">Contact: <a href="mailto:markparmstrong@gmail.com">markparmstrong@gmail.com</a></p>
     <p class="date">Original date: September 25th, 2020</p>
     <p class="date">Last updated: 2020-10-01 Thu 17:10</p>
     <p class="creator">Created using <a href="https://www.gnu.org/software/emacs/">Emacs</a> 27.0.90 (<a href="https://orgmode.org">Org</a> mode 9.4)</p>
     <p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
